!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("hyperact"),require("react")):"function"==typeof define&&define.amd?define(["hyperact","react"],e):"object"==typeof exports?exports.Hyperreact=e(require("hyperact"),require("react")):t.Hyperreact=e(t.hyperact,t.react)}(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t){return t&&"[object Function]"==={}.toString.call(t)}function i(t,e,n){function o(t){this.component=t}function i(t,e){var n=Object.assign({},t.props),o=Object.assign({},n.style),r="style.",i=e.layer||{},s=e.model||e.props;Object.keys(o).forEach(function(t){var e=r+t,n=(0,u.typeForStyle)(t),c=s[e],l=o[t];c!==l&&(l=n.input(o[t]),i[e]=l)}.bind(this));var l=e.presentation;return l&&Object.keys(l).forEach(function(t,e){if(t.substring(0,r.length)===r){var n=t.substring(r.length),i=l[t];o[n]=i}}),n.style=o,c.default.cloneElement(t,n)}var s=function(t){var e={},n="style.";return Object.keys(t).forEach(function(o){"children"===o&&(e[o]=t[o]),"animations"!==o&&"children"!==o&&o.substring(0,n.length)!==n&&(e[o]=t[o])}),e},l=function(t,e){e.layer=t,(0,u.flushTransaction)()};o.prototype={typeForProperty:function(t,e){var n=!1,o="style.";return t.substring(0,o.length)===o&&(n=(0,u.typeForStyle)(t.substring(o.length))),n},input:function(t,e){var n="style.",o=e;if(t.substring(0,n.length)===n){var i=t.substring(n.length),s=(0,u.typeForStyle)(i);null===e||"undefined"==typeof e?(console.log("---> Hyperreact input undefined"),o=s.zero()):o=s.input(e)}return this.component&&r(this.component.input)&&(o=this.component.input.call(this.component,t,o)),o},output:function(t,e){var n=e,o="style.";if(t.substring(0,o.length)===o){var i=t.substring(o.length),s=(0,u.typeForStyle)(i);null===e||"undefined"==typeof e?(console.log("---> Hyperreact output undefined"),n=s.toCssValue(s.zero())):n=s.output(e)}return this.component&&r(this.component.output)&&(n=this.component.output.call(this.component,t,n)),n},display:function(){this.component&&this.component.props.hyperDisplay?this.component.props.hyperDisplay.call(this.component):this.component&&this.component.forceUpdate()},animationForKey:function(t,n,o,i){if("style"===t)return null;var s=!1,c="style.";return t.substring(0,c.length)===c||r(this.component.animationForKey)&&(s=this.component.animationForKey.call(this.component,t,n,o,i)),s!==!1&&"undefined"!=typeof s||(r(e)?s=e(t,n,o,i,this.component):e&&(s=e[t]),r(s)&&(s=e[t](n,o,i,this.component))),s}};var a=function(t,e){"undefined"!=typeof n&&null!==n||(n={});var o=Object.assign({},n);(0,u.activate)(t,e,o),l(t.props,t),(0,u.flushTransaction)()},p=function(t){function e(){t.prototype.constructor.apply(this,arguments);var e=new o(this);a(this,e),(0,u.flushTransaction)()}return t.prototype&&r(t.prototype.render)?(e.prototype=Object.create(t.prototype),e.prototype.componentWillUnmount=function(){r(t.prototype.componentWillUnmount)&&t.prototype.componentWillUnmount.apply(this,arguments),this.removeAllAnimations(),(0,u.flushTransaction)()},e.prototype.render=function(){var e=t.prototype.render.call(this);return i(e,this)},e):null}(t),h="AnimateClass",f=c.default.createClass({displayName:"AnimateClass",mounted:!0,getInitialState:function(){return{mounted:!0,hyperDisplay:function(){this.mounted&&this.forceUpdate()}.bind(this)}},directChildInstance:null,delegate:null,componentWillReceiveProps:function(t){if(!this.directChildInstance)throw new Error("No child instance yet");l(t,this.directChildInstance)},componentWillMount:function(){p||(this.delegate=new o(this),a(this,this.delegate),this.directChildInstance=this)},componentWillUnmount:function(){this.mounted=!1,this.directChildInstance.removeAllAnimations(),this.directChildInstance=null,this.delegate&&(this.delegate.component=null),(0,u.flushTransaction)()},render:function(){var e=this.directChildInstance,n=e?e.presentation:this.props,o=s(n);if(o.key=h,p){var r=this,u=function(t){if(t&&e&&e!==t)throw new Error("TODO: remove animations and release, else this will attempt to activate a second time and break.");t&&e!==t&&(r.directChildInstance=t)};o.ref=u,o.hyperDisplay=this.state.hyperDisplay;var l=c.default.createElement(p,o);return l}return i(t(o),this)}});return f}Object.defineProperty(e,"__esModule",{value:!0}),e.animate=i;var s=n(1),c=o(s),u=n(0)}])});